<!DOCTYPE html>
<head>
    <title>Acceuil</title>
    <link rel="stylesheet" href="../css/main.css" />
    <link rel="icon" type="image/x-icon" href="../ressources/images/flag.png">
    <style>
        @import url('https://fonts.cdnfonts.com/css/linux-biolinum');
    </style>
</head>
<body>
    <header>
        <center>
            <h1>Dörtstan</h1>
            <nav class="nav-bar">
                <ul>
                    <li class="nav-btn"><a href="acceuil.html">Acceuil</a></li>
                    <li class="nav-btn"><a href="constitution.html">Constitution</a></li>
                    <li class="nav-btn"><a href="histoire.html">Histoire</a></li>
                    <li class="nav-btn"><a href="economie.html">Economie</a></li>
                    <li class="nav-btn"><a href="religion.html">Religion</a></li>
                </ul>
            </nav>
        </center>
        <div class="dropdown">
            <button class="dropbtn">
                Langue
            </button>
            <div class="dropdown-content">
                <a href="acceuil.html"><img src="../ressources/images/fr.png" width="20" height="15">&nbspFrançais&nbsp&nbsp&nbsp</a>
                <a href="../en/home.html"><img src="../ressources/images/en.png"width="20" height="15">&nbspEnglish&nbsp&nbsp&nbsp&nbsp&nbsp</a>
                <a href="../bzh/wait.html"><img src="../ressources/images/bzh.png"width="20" height="15">&nbspBrezhoneg</a>
                <a href="../eo/wait.html"><img src="../ressources/images/eo.png"width="20" height="15">&nbspEsperanto&nbsp</a>
            </div>
        </div>
    </header>
    <center>
        <h2>Bienvenue sur le site officiel du Dörtstan !</h2>
        <div class="buttons">
        	<center>
	        	<a href="#hymne" class="button">Hymne</a>
	        	<a href="#capitale" class="button">Capitale</a>
        	</center>
        </div>
        <img style="margin-top: 3vh;" src="../ressources/images/flag.png">
        <p>L'origine de la création de notre grand pays remonte à plus de deux mille ans, il tire son nom du nombre 4, un chiffre central dans notre culture.</p>
        <h2 id="hymne">Hymne du Dörtstan</h2>
        	<div id="audio" style="background-color: #1e2030; border-radius: 8px; width: 40vw; height: auto; display: flex; align-items: center; justify-content: center; color: #000; font-size: 3vh; font-weight: bolder; user-select: none;">
                <audio src="../ressources/audio/03. Nujabes - Aruarian Dance.mp3" id="audio"></audio>
                <div id="audio-button" style="margin-top: 1vh;">
                    <img id="audio-button-ico" src="../ressources/images/play.png" style="height: 3vw; width: 3vw;">
                </div>
                <div>
                    <span id="current-time">0:00/4:09</span>
                    <input type="range" min="0" max="249" value="0" id="length-audio" class="lenght">
                </div>
                <img src="../ressources/images/volume 100.png" style="height: 2vw; width: 2vw; margin-top: 1vh; margin-left: 0.5vw;" id="volume-ico">
                <div>
                    <input type="range" min="0" max="100" value="100" id="volume" class="volume">
                    <span id="volume-value">100</span>%
                </div>
            </div>
        <h2 id="capitale">Tetrapolis</h2>
        <p>Tetrapolis la capitale de notre pays fut fondée par le prophète Marco Polo en même temps que notre pays après son périple de 44 jours, aujourd'hui elle est le centre névralgique de notre pays </br>
            avec plusieurs quartiers éssentiels comme celui des affaires ou celui du Catherinisme.</p>
    </center>
    <script>
        button = document.getElementById("audio-button");
        ico = document.getElementById("audio-button-ico");
        var audio = new Audio('../ressources/audio/03. Nujabes - Aruarian Dance.mp3');
        current_time = document.getElementById("current-time")
        length_audio = document.getElementById("length-audio")
        volume = document.getElementById("volume")
        old_volume = 0
        volume_ico = document.getElementById("volume-ico")
        prct = document.getElementById("volume-value")
        button_state = 0;
        audio.addEventListener("playing", function()  {
            var interval = setInterval(function() {
                audio_time = Math.round(audio.currentTime)
                length_audio.value = audio_time
                sec = Math.round(audio_time%60)
                if (sec < 10){
                    sec = "0" + sec
                }
                current_time.innerHTML = Math.floor(audio_time/60) + ":" + sec + "/4:09"
            }, 1000);
        })
        audio.addEventListener("ended", function(){
            ico.src = "../ressources/images/play.png"
            button_state = 0
        });
        length_audio.oninput = function() {
            audio.currentTime = length_audio.value
            audio_time = Math.round(audio.currentTime)
            length_audio.value = audio_time
            sec = Math.round(audio_time%60)
            if (sec < 10){
                sec = "0" + sec
            }
            current_time.innerHTML = Math.floor(audio_time/60) + ":" + sec + "/4:09"
        }
        volume_ico.addEventListener('click', function(e)  {
            if (volume.value > 0){
                old_volume = volume.value
                audio.volume = 0
                volume.value = 0
                prct.innerHTML = "&nbsp;&nbsp;&nbsp;&nbsp;0"
                volume_ico.src="../ressources/images/volume 0.png"
            }else{
                if(old_volume < 10) {
                    prct.innerHTML = "&nbsp;&nbsp;&nbsp;&nbsp" + old_volume;
                    volume_ico.src="../ressources/images/volume 33.png"
                }else if(old_volume > 9 && old_volume < 34) {
                    prct.innerHTML = "&nbsp;&nbsp;" + old_volume;
                    volume_ico.src="../ressources/images/volume 33.png"
                }else if(old_volume > 33 && old_volume < 67) {
                    prct.innerHTML = "&nbsp;&nbsp;" + old_volume;
                    volume_ico.src="../ressources/images/volume 66.png"
                }else if(old_volume == 100){
                    prct.innerHTML = "100"
                    volume_ico.src="../ressources/images/volume 100.png"
                } else{
                    prct.innerHTML = "&nbsp;&nbsp;" + old_volume;
                    volume_ico.src="../ressources/images/volume 100.png"
                }
                volume.value = old_volume
                audio.volume = old_volume/100
            }
        })
        volume.oninput = function() {
            audio.volume = volume.value/100
            if (volume.value == 0) {
                prct.innerHTML = "&nbsp;&nbsp;&nbsp;&nbsp;0"
                volume_ico.src="../ressources/images/volume 0.png"
            }else if(volume.value > 0 && volume.value < 10) {
                prct.innerHTML = "&nbsp;&nbsp;&nbsp;&nbsp" + this.value;
                volume_ico.src="../ressources/images/volume 33.png"
            }else if(volume.value > 9 && volume.value < 34) {
                prct.innerHTML = "&nbsp;&nbsp;" + this.value;
                volume_ico.src="../ressources/images/volume 33.png"
            }else if(volume.value > 33 && volume.value < 67) {
                prct.innerHTML = "&nbsp;&nbsp;" + this.value;
                volume_ico.src="../ressources/images/volume 66.png"
            }else if(volume.value == 100){
                prct.innerHTML = "100"
                volume_ico.src="../ressources/images/volume 100.png"
            } else{
                prct.innerHTML = "&nbsp;&nbsp;" + this.value;
                volume_ico.src="../ressources/images/volume 100.png"
            }
        };
        button.addEventListener('click', function(e)  {
            if (button_state == 0){
                ico.src="../ressources/images/pause.png";
                button_state = 1
                audio.play();
            }else{
                button_state = 0
                ico.src="../ressources/images/play.png";
                audio.pause();
            };
        })
    </script>
</body>